-- 책 정보 insert 문법
LOAD DATA LOCAL INFILE 'D:/01-STUDY/insertData_2.csv'
INTO TABLE BOOK
FIELDS TERMINATED BY ','
LINES TERMINATED BY '\n';

-- 대출 테이블
CREATE TABLE book_borrow(
BR_CODE INT AUTO_INCREMENT PRIMARY KEY
    , BORROW_DATE DATETIME CURRENT_TIMESTAMP
	, RETURN_YN VARCHAR(2) NOT NULL DEFAULT 'N'
	, USER_CODE INT REFERENCES USERS(USER_CODE)
	, BOOK_CODE VARCHAR(20) REFERENCES BOOK(BOOK_CODE));

-- DROP TABLE BOOK_BORROW;

-- 반납 테이블
CREATE TABLE BOOK_RETURN(
 RT_CODE INT AUTO_INCREMENT PRIMARY KEY
	, RETURN_DATE DATETIME CURRENT_TIMESTAMP
	, USER_CODE INT REFERENCES USERS(USER_CODE)
	, BOOK_CODE VARCHAR(20) REFERENCES BOOK(BOOK_CODE));

-- MEMBER_CARD
 CREATE TABLE MEMBER_CARD(
 MEMBER_NUM INT AUTO_INCREMENT PRIMARY KEY,
    MEMBER_REG DATETIME DEFAULT CURRENT_TIMESTAMP(),
    MEMBER_PENALTY DATETIME,
    MEMBER_BOOK_CNT INT DEFAULT 5,
    MEMBER_INTRO VARCHAR(200),
    USER_CODE INT);

-- 이용자 정보 insert 문

INSERT INTO users(
	USER_CODE
	, USER_ID
	, USER_PW
	, USER_NAME
	, USER_TEL
	, POST_CODE
	, USER_ADDR
	, ADDR_DETAIL
	, GENDER
	, EMAIL
	, IS_ADMIN
) VALUES (
	1
	, 'ver054'
	, '1234'
	, '김봄이'
	, '010-1111-2222'
	, 12345
	, '울산시 남구'
	, '그린아카데미'
	, '여자'
	, '1234@gmail.com'
	, 'Y'
);